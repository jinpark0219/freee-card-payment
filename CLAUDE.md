# 프로젝트 개발 가이드라인

> ⚠️ **중요**: 이 문서의 모든 규칙을 엄격히 따라주세요.  
> 규칙 위반이나 변경이 필요한 경우 반드시 사전 승인을 받으세요.

---

## 🎯 핵심 개발 원칙

### 1. 구현 작업 원칙
**필수 사항:**
- **TDD 필수**: 모든 비즈니스 로직은 테스트 먼저 작성 → 구현 순서로 진행
- **SOLID 원칙 준수**: 단일책임, 개방폐쇄, 리스코프치환, 인터페이스분리, 의존성역전
- **Clean Architecture 적용**: 계층 분리와 의존성 방향 준수
- **인프라 설명**: Pulumi/CloudFormation 리소스 Description은 **반드시 영문**

### 2. 코드 품질 기준
- **단순성 우선**: 복잡한 솔루션보다 단순한 솔루션 선택
- **DRY 원칙**: 코드 중복 금지, 기존 기능 재사용
- **테스트 데이터만**: 운영/개발 환경에서 모의 데이터 사용 금지
- **효율적 출력**: 명확성 유지하면서 토큰 사용 최소화

### 3. 작업 프로세스
**리팩토링:**
- 계획 설명 → 승인 대기 → 진행
- 기능 변경 아닌 구조 개선만
- 완료 후 테스트 전수 확인

**디버깅:**
- 원인/해결책 설명 → 승인 대기 → 진행  
- 에러 수정보다 정상 동작이 목표
- 원인 불분명시 상세 로그 추가

### 4. 에러 처리 (필수)
```typescript
// 모든 async 함수
try {
  // 비즈니스 로직
} catch (error) {
  // 중앙 집중식 에러 관리
  logger.error('사용자 친화적 메시지', error);
  throw new CustomError('명확한 한국어 메시지');
}
```

---

## 🗣️ 언어 및 커뮤니케이션

### 언어 규칙
- **답변/문서/주석**: 한국어
- **AWS 리소스 설명**: 영문
- **기술 용어**: 원문 유지 (React, TypeScript 등)
- **다이어그램**: 간단한 것은 mermaid, 복잡한 것은 SVG 파일

### 커뮤니케이션 방식
**기본:**
- 각 작업 후 완료 내용 요약
- 변경 규모 분류 (작은/중간/큰)
- 불명확하면 질문 먼저

**큰 변경시:**
- 구현 계획 제시 → 승인 대기
- 완료/대기 작업 명시
- 긴급 표시시 정확성 우선

---

## 🛠️ 기술 스택

### 개발 도구 (변경 금지)
```yaml
프론트엔드: JavaScript, TypeScript, React, Next.js, Angular
백엔드: JavaScript, NestJS, Java, Spring
인프라: Pulumi (TypeScript), CloudFormation  
데이터베이스: Aurora Serverless (MySQL 호환)
테스트: Jest, pytest
패키지 매니저: npm/yarn
코드 품질: ESLint + Prettier
환경 설정: .env 파일
로깅: JSON 구조화 로그
```

**중요**: 명시적 승인 없이 스택 변경 금지 (기존 코드에서 사용 중인 기술은 예외)

---

## 📋 워크플로우

### 기본 작업 방식
1. **제한적 수정**: 지정된 코드만 수정, 나머지는 유지
2. **단계적 진행**: 큰 작업을 나누고 각 단계마다 승인 대기
3. **사전 문서화**: 
   - 설계: `[이슈명]_design.md`
   - 계획: `[이슈명]_plan.md`
4. **진행 추적**: 
   - 완료: `progress.md` 기록
   - 예정: `TODO.txt` 기록

### 고급 워크플로우
- **포괄적 테스트**: 주요 기능 + 엣지 케이스 테스트 제안
- **컨텍스트 관리**: 100k 토큰 초과시 `context-summary.md` 생성 후 재시작
- **유연성**: 피드백에 따라 체크포인트 빈도 조정

---

## 📁 프로젝트 구조

### 디렉토리 구조
```
docs/
├── architecture/     # 아키텍처 문서
├── guides/          # 개발자 가이드  
└── runbooks/        # 운영 매뉴얼

src/
├── core/            # 핵심 비즈니스 로직
├── infrastructure/  # 인프라 관련 코드
└── api/            # API 엔드포인트

tests/              # 모든 테스트 파일
```

### 명명 규칙
- **파일명**: `snake_case` (예: `user_service.ts`)
- **클래스명**: `PascalCase` (예: `UserService`)  
- **함수/변수**: `camelCase` (예: `getUser()`)
- **상수**: `UPPER_SNAKE_CASE` (예: `MAX_USERS`)

---

## 📝 문서화 및 Git

### 문서화 규칙
- 주요 컴포넌트 완료시: `/docs/[component].md` 생성
- 코드 변경시 문서 동시 업데이트
- 복잡한 로직: 한국어 주석으로 설명

### Git 커밋 규칙
- `--no-verify` **절대 사용 금지**
- 명확하고 일관된 커밋 메시지
- 적절한 크기로 커밋 단위 유지

---

## ✅ 체크리스트

작업 시작 전 확인:
- [ ] TDD로 테스트 먼저 작성했는가?
- [ ] SOLID 원칙을 고려했는가?
- [ ] 에러 처리가 포함되어 있는가?
- [ ] 한국어 주석/문서를 작성했는가?
- [ ] 기술 스택 변경 없이 진행하는가?
